<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maxiumum-scale=1.0, user-scalable=no">
    <title>DNS Query Tool</title>
    <link rel="stylesheet" href="/static/main.css">
  </head>
  <body>
    <div class="container">
      <form id="dnsquery" action="/" method="post" accept-charset="UTF-8">
        <fieldset>
          <legend>DNS Query Tool</legend>
          <input type="hidden" name="submitted" id="submitted" value="1"/>
          
          <div class="form-group">
            <label for="domain">Domain:</label>
            <input type="text" name="domain" value="{{ domain or '' }}" id="domain" autocomplete="off" autofocus="autofocus" maxlength="255" placeholder="Enter domain name" required />
          </div>
          
          <div class="form-group checkbox-group">
            <input type="checkbox" name="ttl" value="true" id="ttl" {% if ttl == 'true' %}checked{% endif %} />
            <label for="ttl">Show TTL</label>
          </div>
          
          <div class="form-group checkbox-group">
            <input type="checkbox" name="query_time" value="true" id="query_time" {% if query_time == 'true' %}checked{% endif %} />
            <label for="query_time">Show Query Time</label>
          </div>
          
          <button type="submit" name="Submit" class="submit-btn">Query DNS</button>
        </fieldset>
      </form>
      
      <details>
        <summary>About</summary>
        <p>This is a simple troubleshooting tool for querying DNS environments to view the IP address that a domain name ultimately resolves to. The code behind this was mainly written to troubleshoot where cached records needed to be purged after IP changes.</p>
        <p>At this point, it's intentionally been designed to not show a high level of detail such as the type of record, etc.</p>
        <p>The project source code can be found on <a href="https://www.github.com/clayoster/dnsquery" target="_blank">Github</a></p>
      </details>
      
      {% if dns_data -%}
      <div class="results">
        {% for key, value in dns_data.items() %}
        <div class="result-item">
          <span class="result-key">{{ key }}</span>
          <span class="result-value">{{ value }}</span>
        </div>
        {% endfor %}
      </div>
      {% elif error -%}
      <div class="error">{{ error }}</div>
      {% endif -%}
    </div>
  </body>
</html>
